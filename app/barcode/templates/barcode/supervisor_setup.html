{% load static %}

<link href="{% static 'bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
<script src="{% static 'bootstrap/js/bootstrap.bundle.min.js' %}"></script>

{% block content %}
  <div class="container mt-5">
    <h2>Supervisor Setup</h2>
    <form method="post">
      {% csrf_token %}
      <div class="mb-3">
        <label for="id_part_select">Part Select</label>
        {{ form.part_select }}
      </div>
      <div class="mb-3">
        <label for="id_count_type">Count Type</label>
        {{ form.count_type }}
      </div>
      <div class="mb-3" id="count-input" style="display: none;">
        <label for="id_count">Count</label>
        {{ form.count }}
      </div>
      <div class="mb-3">
        <label for="id_tag">Tag</label>
        {{ form.tag }}
      </div>
      <button type="submit" class="btn btn-primary mt-3">Go to page</button>
    </form>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const countTypeSelect = document.getElementById('id_count_type');
      const countInputDiv = document.getElementById('count-input');

      function toggleCountInput() {
        if (countTypeSelect.value === 'set') {
          countInputDiv.style.display = 'block';
        } else {
          countInputDiv.style.display = 'none';
        }
      }

      countTypeSelect.addEventListener('change', toggleCountInput);

      // Initialize the form display based on the initial value
      toggleCountInput();
    });
  </script>
{% endblock %}
